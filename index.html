<!DOCTYPE html>
<html>
<head>
	<title>Gregor's Calculator</title>
	<link rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=B612+Mono&display=swap" rel="stylesheet">
</head>
<body>

	<section id="calculator">
		<div class="display">
			<input id = "sum" value="0">
			<input id= "display" value="0">
		</div>

	<button id="seven" class="button">7</button>
	<button id="eight" class="button">8</button>
	<button id="nine" class="button">9</button>

	<button id="add" class="button operator">+</button>

	<button id="four" class="button">4</button>
	<button id="five" class="button">5</button>
	<button id="six" class="button edge">6</button>

	<button id="subtract" class="button operator">-</button>

	<button id="one" class="button">1</button>
	<button id="two" class="button">2</button>
	<button id="three"class="button edge">3</button>

	<button id="multiply" class="button operator">*</button>

	<button id="clear" class="button">C</button>
	<button id="zero" class="button">0</button>
	<button id="decimal" class="button">.</button>

	<button id="divide" class="button operator">/</button>

	<button id="equals" class="button">=</button>

</section>


	<script>

		let one = document.getElementById("one");
		let two = document.getElementById("two");
		let three = document.getElementById("three");
		let four = document.getElementById("four");
		let five = document.getElementById("five");
		let six = document.getElementById("six");
		let seven = document.getElementById("seven");
		let eight = document.getElementById("eight");
		let nine = document.getElementById("nine");
		let zero = document.getElementById("zero");

		let decimal = document.getElementById("decimal");

		let display = document.getElementById("display");
		let sum = document.getElementById("sum");

		let addButt = document.getElementById("add");
		let subtractButt = document.getElementById("subtract");
		let multiplyButt = document.getElementById("multiply");
		let divideButt = document.getElementById("divide");
		let equalsButt = document.getElementById("equals");

		let clear = document.getElementById("clear");

		let current = "";
		let result = "";
		let firstNum = null;
		let secondNum = 0;
		let lastOp = "";
		let eqPress = false;

		function update (){
			display.value = result;
			sum.value = current;
		}

		function equalsCheck(){
			if (eqPress){
				firstNum = null;
				current = "";
				eqPress = false;
				update();
			}
		}

		one.addEventListener('click', function(){
			equalsCheck();
			current += 1;
			result += 1;
			update();
		})

		two.addEventListener('click', function(){
			equalsCheck();
			current += 2;
			result += 2;
			update();
		})

		three.addEventListener('click', function(){
			equalsCheck();
			current += 3;
			result += 3;
			update();
		})

		four.addEventListener('click', function(){
			equalsCheck();
			current += 4;
			result += 4;
			update();
		})

		five.addEventListener('click', function(){
			equalsCheck();
			current += 5;
			result += 5;
			update();
		})

		six.addEventListener('click', function(){
			equalsCheck();
			current += 6;
			result += 6;
			update();
		})

		seven.addEventListener('click', function(){
			equalsCheck();
			current += 7;
			result += 7;
			update();
		})

		eight.addEventListener('click', function(){
			equalsCheck();
			current += 8;
			result += 8;
			update();
		})

		nine.addEventListener('click', function(){
			equalsCheck();
			current += 9;
			result += 9;
			update();
		})

		zero.addEventListener('click', function(){
			equalsCheck();
			current += 0;
			result += 0;
			update();
		})


		decimal.addEventListener('click', function(){
			current += ".";
			result += ".";
			update();
		})

		function opCheck(){
			switch (lastOp){
				case "+":
				firstNum += secondNum;
				break;
				case "-":
				firstNum -= secondNum;
				break;
				case "*":
				firstNum *= secondNum;
				break;
				case "/":
				firstNum /= secondNum;
				break;
			}
		}


		addButt.addEventListener('click', function(){
			if (eqPress){
				eqPress = false;
			}
			current += "+";
			if (firstNum === null){
				firstNum = parseFloat(result, 10);
			} else {
				secondNum = parseFloat(result, 10);
			}
			opCheck()
			lastOp = "+";
			update();
			result = "";
		})

		subtractButt.addEventListener('click', function(){
			if (eqPress){
				eqPress = false;
			}
			current += "-";
			if (firstNum === null){
				firstNum = parseFloat(result, 10);
			} else {
				secondNum = parseFloat(result, 10);
			}
			opCheck();
			lastOp = "-";
			update();
			result = "";
		})

		multiplyButt.addEventListener('click', function(){
			if (eqPress){
				eqPress = false;
			}
			current += "*";
			if (firstNum === null){
				firstNum = parseFloat(result, 10);
			} else {
				secondNum = parseFloat(result, 10);
			}
			opCheck();
			lastOp = "*";
			update();
			result = "";
		})

		divideButt.addEventListener('click', function(){
			if (eqPress){
				eqPress = false;
			}
			current += "/";
			if (firstNum === null){
				firstNum = parseFloat(result, 10);
			} else {
				secondNum = parseFloat(result, 10);
			}
			opCheck();
			lastOp = "/";
			update();
			result = "";
		})

		equalsButt.addEventListener('click', function(){
			if (firstNum === null){
				firstNum = parseFloat(result, 10);
			} else {
				secondNum = parseFloat(result, 10);
			}
			opCheck();
			lastOp = "=";
			current += "=" + firstNum;
			result = firstNum;
			update();
			result = "";
			current = firstNum.toString();
			eqPress = true;
		})

		clear.addEventListener('click', function(){
		current = "";
		result = "";
		firstNum = null;
		secondNum = 0;
		lastOp = "";
		display.value = 0;
		sum.value = 0;

		})

	</script>

</body>
</html>
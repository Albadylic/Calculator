<!DOCTYPE html>
<html>
<head>
	<title>Gregor's Calculator</title>
	<link rel="stylesheet" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=B612+Mono&display=swap" rel="stylesheet">
</head>
<body>

	<section id="calculator">
		<div class="display">
			<input id = "sum" value="0">
			<input id= "display" value="0">
		</div>

	<button id="one" class="button">1</button>
	<button id="two" class="button">2</button>
	<button id="three"class="button">3</button>
	<button id="four" class="button">4</button>
	<button id="five" class="button">5</button>
	<button id="six" class="button">6</button>
	<button id="seven" class="button">7</button>
	<button id="eight" class="button">8</button>
	<button id="nine" class="button">9</button>
	<button id="zero" class="button">0</button>

	<button id="add" class="button">+</button>
	<button id="subtract" class="button">-</button>
	<button id="multiply" class="button">*</button>
	<button id="divide" class="button">/</button>

	<button id="decimal" class="button">.</button>

	<button id="clear" class="button">C</button>

	<button id="equals" class="button">=</button>

</section>


	<script>

		let one = document.getElementById("one");
		let two = document.getElementById("two");
		let three = document.getElementById("three");
		let four = document.getElementById("four");
		let five = document.getElementById("five");
		let six = document.getElementById("six");
		let seven = document.getElementById("seven");
		let eight = document.getElementById("eight");
		let nine = document.getElementById("nine");
		let zero = document.getElementById("zero");

		let display = document.getElementById("display");
		let sum = document.getElementById("sum");

		let addButt = document.getElementById("add");
		let subtractButt = document.getElementById("subtract");
		let multiplyButt = document.getElementById("multiply");
		let divideButt = document.getElementById("divide");
		let equalsButt = document.getElementById("equals");

		let current = "";
		let result = "";
		let total = null;
		let lastOp = "";

		function update (){
			display.value = result;
			sum.value = current;
		}

		one.addEventListener('click', function(){
			current += 1;
			result +=1;
			update();
		})

		two.addEventListener('click', function(){
			current += 2;
			result +=2;
			update();
		})

		three.addEventListener('click', function(){
			current += 3;
			result +=3;
			update();
		})

		four.addEventListener('click', function(){
			current += 4;
			result +=4;
			update();
		})

		five.addEventListener('click', function(){
			current += 5;
			result +=5;
			update();
		})

		six.addEventListener('click', function(){
			current += 6;
			result +=6;
			update();
		})

		seven.addEventListener('click', function(){
			current += 7;
			result +=7;
			update();
		})

		eight.addEventListener('click', function(){
			current += 8;
			result +=8;
			update();
		})

		nine.addEventListener('click', function(){
			current += 9;
			result +=9;
			update();
		})

		zero.addEventListener('click', function(){
			current += 0;
			result +=0;
			update();
		})

		function checkNull(){
			if (total === null){
				total = parseInt(current, 10)
			}
		}



		addButt.addEventListener('click', function(){
			checkNull();
			total += parseInt(result, 10);
			console.log(total);
			current += "+";
			result = "+";
			update();
			result = "";
			lastOp = "+"
		})

		subtractButt.addEventListener('click', function(){
			checkNull();
			total -= parseInt(result, 10);
			console.log(total);
			current += "-";
			result = "-";
			update();
			result = "";
			lastOp = "-";
		})

		multiplyButt.addEventListener('click', function(){
			checkNull();
			total *= parseInt(result, 10);
			console.log(total);
			current += "*";
			result = "*";
			update();
			result = "";
			lastOp = "*";
		})

		divideButt.addEventListener('click', function(){
			checkNull();
			total /= parseInt(result, 10);
			console.log(total);
			current += "/";
			result = "/";
			update();
			result = "";
			lastOp = "/";
		})

		equalsButt.addEventListener('click', function(){
			switch (lastOp){
				case "+":
				total += parseInt(result, 10);
				break;
				case "-":
				total -= parseInt(result,10);
				break;
				case "*":
				total *= parseInt(result,10);
				break;
				case "/":
				total /= parseInt(result,10);
				break;
			}
			console.log(current.split("+"))
			current += "=" + total;
			result = total;
			update();
		})




		function add (a, b){
			return (a + b);
		}

		function subtract (a, b){
			return (a - b);
		}	

		function multiply (a, b){
			return (a * b);
		}

		function divide (a, b){
			return (a / b);
		}

	</script>

</body>
</html>